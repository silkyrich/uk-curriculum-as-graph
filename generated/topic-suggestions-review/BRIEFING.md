# Teacher Panel Design Review: TopicSuggestion + VehicleTemplate Schema

## Your Mission

You are reviewing the proposed schema for a **critical generative layer** in an education knowledge graph. This layer transforms a UK National Curriculum graph into a content generation platform. Everything downstream (lessons, videos, images, personalised tutorials) depends on this schema being right.

The core insight: the graph stores **curriculum intelligence** (why topics work, which pedagogical pattern to use), while actual lesson content is **always generated at runtime** by an AI tutor. The curriculum's own named examples become "official" topic suggestions; everything else is generatable.

## What's Being Replaced

**ContentVehicle** (61 nodes) — tries to be topic recommendation, pedagogical template, and content simultaneously. Properties bloated with subject-specific and universal mixed together.

**Topics** (55 nodes) — thin, underused. Just topic_id, topic_name, subject, key_stage, is_prescribed, choice_group, curriculum_note, teaches_concept_ids.

## What's Replacing Them

### Three-Tier Architecture

| Tier | What | In graph? | Purpose |
|---|---|---|---|
| **TopicSuggestion** (typed per subject) | Library card | Yes | "Ancient Egypt works for chronology because..." |
| **VehicleTemplate** | Pedagogical pattern | Yes | "A topic_study follows: hook -> sources -> interpretation -> argument" (~14 templates) |
| **ContentPack** | Lesson materials | **No -- runtime** | "Pokemon-themed Y3 chronology with school branding" -- generated by AI tutor |

No ExternalResource nodes -- links to Oak, BBC, museums are runtime generation context, not permanent graph structure.

### Subject-Typed Node Labels

Each subject with distinct properties gets its own label. No node carries irrelevant attributes.

| Label | Subjects | Subject-specific properties |
|---|---|---|
| **HistoryTopicSuggestion** | History | `period`, `key_figures`, `key_events`, `sources`, `source_types`, `perspectives` |
| **GeographyTopicSuggestion** | Geography | `location`, `themes`, `contrasting_with`, `data_sources` |
| **ScienceTopicSuggestion** | Science, Biology, Chemistry, Physics | `enquiry_type`, `equipment`, `safety_notes`, `expected_outcome` |
| **EnglishTopicSuggestion** | English, English Language, English Literature | `genre`, `text_features`, `suggested_texts` |
| **MathsTopicSuggestion** | Mathematics | `cpa_stage`, `manipulatives`, `representations` |
| **TopicSuggestion** | All other subjects (RE, Citizenship, Art, Music, DT, Computing, Drama, Business, Food, Media Studies) | `themes` only (flexible catch-all) |

## Shared Universal Properties (all 6 labels) -- PROPOSED

| Property | Type | Required | Notes |
|---|---|---|---|
| `suggestion_id` | string | Yes | Unique. Format: `TS-{subject_prefix}-{KS}-{number}` |
| `name` | string | Yes | e.g. "Roman Britain", "Friction Fair Test" |
| `suggestion_type` | string | Yes | `prescribed_topic`, `exemplar_topic`, `open_slot`, `exemplar_figure`, `exemplar_event`, `exemplar_text`, `teacher_convention` |
| `subject` | string | Yes | Subject name |
| `key_stage` | string | Yes | KS1/KS2/KS3/KS4 |
| `curriculum_status` | string | Yes | `mandatory` / `menu_choice` / `exemplar` / `convention` |
| `choice_group` | string | No | For menu items: grouping label (e.g. `ks2_ancient_civ`) |
| `curriculum_reference` | string | No | NC text that names/implies this topic |
| `pedagogical_rationale` | string | Yes | WHY this topic works for these concepts |
| `common_pitfalls` | string[] | No | What goes wrong teaching this |
| `cross_curricular_hooks` | string[] | No | Links to other subjects |
| `definitions` | string[] | Yes | Key vocabulary |
| `display_category` | string | Yes | `"Topic Suggestion"` |
| `display_color` | string | Yes | `#059669` (Emerald-600) |
| `display_icon` | string | Yes | `lightbulb` |

## VehicleTemplate Inventory -- PROPOSED (~14 templates)

| # | template_type | Subjects | Session structure |
|---|---|---|---|
| 1 | `topic_study` | History, Geography, RS, Citizenship | hook -> context -> source_analysis -> interpretation -> argument |
| 2 | `case_study` | Geography, Business, Science | introduction -> data_collection -> analysis -> comparison -> evaluation |
| 3 | `fair_test` | Science | question -> hypothesis -> method -> data_collection -> analysis -> conclusion |
| 4 | `observation_enquiry` | Science, Art | observation -> recording -> classifying -> pattern_identification |
| 5 | `pattern_seeking` | Science, Maths, Geography | question -> data_gathering -> graphing -> pattern_identification -> explanation |
| 6 | `research_enquiry` | Science, History, RS | question -> source_selection -> note_taking -> synthesis -> presentation |
| 7 | `text_study` | English | shared_reading -> analysis -> vocabulary -> planning -> drafting -> editing |
| 8 | `worked_example_set` | Maths | concrete -> pictorial -> abstract -> application -> fluency |
| 9 | `investigation_design` | Science, Geography | question_framing -> method_design -> data_collection -> analysis -> method_evaluation |
| 10 | `fieldwork` | Geography, Science | preparation -> field_data_collection -> processing -> analysis -> conclusion |
| 11 | `discussion_and_debate` | English, RS, Citizenship, History | stimulus -> research -> structured_discussion -> writing -> reflection |
| 12 | `creative_response` | Art, Music, DT, Drama, English | exemplar_exposure -> technique_exploration -> planning -> creating -> critique |
| 13 | `practical_application` | Maths, DT, Computing, Food | context -> skill_rehearsal -> design -> make/solve -> evaluate |
| 14 | `comparison_study` | Geography, History, RS | introduce_examples -> systematic_comparison -> analysis -> evaluation |

VehicleTemplate properties: `template_id`, `name`, `template_type`, `description`, `session_structure` (string[]), `assessment_approach`, `agent_prompt`, `typical_duration_lessons`, `subjects` (string[]), `key_stages` (string[]), display props.

Age-banded prompts via `TEMPLATE_FOR {agent_prompt}` -> KeyStage (mirrors ThinkingLens PROMPT_FOR pattern).

## Relationship Model

```cypher
// Core teaching link -- works with ALL 6 label types
(ts)-[:DELIVERS_VIA {primary: bool}]->(c:Concept)

// Pedagogical pattern
(ts)-[:USES_TEMPLATE]->(vt:VehicleTemplate)

// Domain convenience (inferred from concept domains)
(:Domain)-[:HAS_SUGGESTION]->(ts)

// Cluster integration (surfaces in query_cluster_context.py)
(:ConceptCluster)-[:SUGGESTED_TOPIC {rank: int}]->(ts)

// Age-banded template prompts
(:VehicleTemplate)-[:TEMPLATE_FOR {agent_prompt: str}]->(:KeyStage)

// Geography contrasting pairs
(:GeographyTopicSuggestion)-[:CONTRASTS_WITH]->(:GeographyTopicSuggestion)
```

## Real-World Topic Selection Data (from UK schools)

| Area | Convention (most schools teach this) | Minority choices |
|---|---|---|
| History KS2: ancient civ | **Ancient Egypt (77%)** | Shang (10%), Sumer (3%), Indus (rare) |
| History KS2: non-European | **Maya (45%)** | Benin (17%), Islamic (13%) |
| History KS2: post-1066 | **WW2 (56%), Victorians (32%), Tudors (28%)** | Crime & Punishment (11%) |
| History KS3: world | Slave Trade, Holocaust, Cold War (near-universal) | Mughal Empire (growing), Qing (rare) |
| English Lit: Shakespeare | **Macbeth (70-76%)** | Romeo & Juliet (~20%), all others <2% |
| English Lit: modern drama | **An Inspector Calls (56-84%)** | Blood Brothers, Lord of the Flies |
| English Lit: 19th C novel | **Christmas Carol + Jekyll & Hyde** (co-dominant) | Jane Eyre, Frankenstein |
| RS KS4: second religion | **Islam** (dominant) | Judaism (London/Manchester) |
| Geography KS1: contrast | **Kenya** (traditional default) | India, China, Brazil |
| Geography KS2: Americas | **Amazon/Brazil** | US city, Caribbean |
| Art: KS1-2 artists | Mondrian, Kandinsky, Lowry, Van Gogh, Monet | Hundreds valid |
| Music: KS1-3 | Model Music Curriculum suggestions (non-statutory) | Bach, Beethoven, Holst, jazz/blues |

## Content Generation Vision

This data will drive:
1. **Lesson generation** -- AI tutor creates personalised lessons themed to student interests
2. **Video scripts** -- Tutorial video generation using topic context
3. **Interactive activities** -- Hands-on digital activities
4. **Assessment tasks** -- Difficulty-level-appropriate assessment generation
5. **Parent-facing tutorial videos** -- Explaining what the child is learning and why

The TopicSuggestion tells the AI *what* to teach and *why*. The VehicleTemplate tells it *how* to structure the session. The AI generates everything else at runtime (themed content, external links, branded materials).

## Existing Data Files for Review

- History KS2 CVs: `layers/content-vehicles/data/history_ks2.json`
- History KS3 CVs: `layers/content-vehicles/data/history_ks3.json`
- Geography KS3 CVs: `layers/content-vehicles/data/geography_ks3.json`
- Science KS2 CVs: `layers/content-vehicles/data/science_ks2.json`
- Science KS3 CVs: `layers/content-vehicles/data/science_ks3.json`
- English Y4 CVs: `layers/content-vehicles/data/english_y4.json`
- Mathematics Y2 CVs: `layers/content-vehicles/data/mathematics_y2.json`
- History Topics: `layers/topics/data/extractions/topics/history_topics.json`
- Geography Topics: `layers/topics/data/extractions/topics/geography_topics.json`

## What You Need to Produce

Write your review to `generated/topic-suggestions-review/{your-agent-name}-review.md` with these sections:

### 1. Subject-Specific Property Review
For each proposed property: KEEP / ADD / REMOVE / MODIFY with rationale.

### 2. Universal Property Review
Any changes to the shared properties? Missing anything? Should anything move to subject-specific?

### 3. VehicleTemplate Critique
Are these the right pedagogical patterns? Missing any? Wrong descriptions? Session structures correct?

### 4. TopicSuggestion Inventory
Which topics should exist? Categorize as:
- `prescribed_topic` (NC explicitly names it)
- `exemplar_topic` (NC names it as one option)
- `open_slot` (NC requires one, school picks)
- `teacher_convention` (most schools teach this even though NC doesn't name it)

### 5. Content Generation Requirements
What does the AI need from this data to generate a good lesson? Video script? Assessment?

### 6. Cross-Curricular Hooks
What connections to other subjects should be captured?

### 7. Stress Test Scenarios
Describe 3-4 real teaching scenarios. Does the schema capture everything needed?

### 8. Summary: Top 3 Recommendations
Your most important changes, ranked by impact.
